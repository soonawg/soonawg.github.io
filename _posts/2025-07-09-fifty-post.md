---
title: "CRC - 여름방학 공부기"
layout: post
date: 2025-07-09 21:10:00 +0900
categories: study
---

# CRC란?
CRC는 데이터 전송 중 오류가 발생했는지를 검사하는 방법이다.
네트워크나 UART, SPI, I2C, RS-485 등 통신에서
데이터가 전송되다가 노이즈, 간섭, 전기적 이상으로 일부 비트가 바뀔 수 있다.
-> 그런 오류가 생겼는지 확인하는 것이 CRC이다.

## 예를 들어
모터에 `angle=90`이라는 명령을 보냈다 해보자,
- 이때 CRC를 계산해서 뒤에 붙여 보낸다:
    - `"angle=90" + CRC16=0x1A2B`
- 수신 쪽에서는 **같은 방법으로 CRC**를 계산해보고,
    - 같으면 "정상 수신"이 되는 것이다.

# CRC 연산의 기본 아이디어
## 🧠 핵심 아이디어: 이진 다항식 나눗셈
1. 보낼 데이터로 2진수로 보고
2. 고정된 다항식으로 나눗셈을 함
3. 나머지를 CRC 코드로 사용

## 예를 들어
- 데이터: `11010011101100`
- - Generator Polynomial (G(x)): `1011`
    → 이걸 **나눗셈**해서 생긴 **나머지(3비트)**가 CRC가 되는 것
- 이 나머지를 수신자도 똑같이 계산해서 비교하면, 데이터가 손상되었는지 알 수 있다.


# CRC16 vs CRC32 차이점
| 항목 | CRC16 | CRC32 |
| --- | --- | --- |
| 🔢 비트 길이 | 16비트 (2바이트) | 32비트 (4바이트) |
| 📐 오류 검출 능력 | 보통 | 더 강력함 |
| 📊 사용 예시 | UART, Modbus, CAN | Ethernet, ZIP 파일, PNG 이미지 |
| 📘 다항식 | 보통 `0x8005` 또는 `0x1021` | `0x04C11DB7` |
| 📈 성능 | 빠름, 짧은 메시지에 적합 | 강력하지만 연산 더 많음 |